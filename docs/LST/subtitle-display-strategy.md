# ìžë§‰ í‘œì‹œ ì „ëžµ ë¬¸ì„œ

ì´ ë¬¸ì„œëŠ” **ì‹¤ì‹œê°„ ë²ˆì—­ ìžë§‰**ê³¼ **ì—…ë¡œë“œëœ ìžë§‰ íŒŒì¼**ì„ ì–´ë–»ê²Œ í‘œì‹œí• ì§€ì— ëŒ€í•œ ê¸°ìˆ ì  ì „ëžµì„ ì •ë¦¬í•œ ë¬¸ì„œìž…ë‹ˆë‹¤.

---

## ðŸ“Š 1. ìžë§‰ í‘œì‹œ ë°©ì‹ ë¶„ë¥˜

### 1-1. ìš©ë„ë³„ ë¶„ë¥˜

| ìžë§‰ ì¢…ë¥˜ | íŠ¹ì§• | í‘œì‹œ ë°©ì‹ | ìš°ì„ ìˆœìœ„ |
|----------|------|----------|---------|
| **ì‹¤ì‹œê°„ ë²ˆì—­ ìžë§‰** | STT â†’ ë²ˆì—­, 0.5~2ì´ˆ ì§€ì—° | ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ | ìµœìš°ì„  |
| **ì»¤ë®¤ë‹ˆí‹° ìžë§‰ (VTT/SRT)** | ì‚¬ì „ ì œìž‘, ì‹±í¬ ì™„ë²½ | YouTube ë„¤ì´í‹°ë¸Œ or ì»¤ìŠ¤í…€ | ë†’ìŒ |
| **ë””ìžì¸ ìžë§‰ (ASS)** | ìŠ¤íƒ€ì¼/ì´íŽ™íŠ¸ í¬í•¨ | ì»¤ìŠ¤í…€ ë Œë”ëŸ¬ í•„ìˆ˜ | ì¤‘ê°„ |
| **YouTube ê³µì‹ ìžë§‰** | ì˜ìƒì— ë‚´ìž¥ | YouTube ë„¤ì´í‹°ë¸Œ | ê¸°ë³¸ |

---

## ðŸŽ¯ 2. ê¶Œìž¥ í•˜ì´ë¸Œë¦¬ë“œ ì „ëžµ

### 2-1. ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   YouTube Video Player          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  [YouTube ë„¤ì´í‹°ë¸Œ ìžë§‰ ì˜ì—­]      â”‚  â† ì»¤ë®¤ë‹ˆí‹° ìžë§‰ (VTT/SRT)
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ ë ˆì´ì–´]          â”‚  â† ì‹¤ì‹œê°„ ë²ˆì—­ ìžë§‰
â”‚  (ë†’ì€ z-index)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2-2. ë™ìž‘ ì›ë¦¬

**1. ì»¤ë®¤ë‹ˆí‹° ìžë§‰ (ì‚¬ì „ ì œìž‘) â†’ YouTube ë„¤ì´í‹°ë¸Œ ì‹œìŠ¤í…œ í™œìš©**
- ìž¥ì : ì™„ë²½í•œ ì‹±í¬, ì•ˆì •ì , ì„±ëŠ¥ ì¢‹ìŒ
- ë°©ë²•: TextTrack API ì‚¬ìš©

**2. ì‹¤ì‹œê°„ ë²ˆì—­ ìžë§‰ â†’ ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´**
- ìž¥ì : ì™„ì „í•œ ì œì–´, ë””ìžì¸ ìžìœ 
- ë°©ë²•: DOM ì˜¤ë²„ë ˆì´ + CSS

**3. ë””ìžì¸ ìžë§‰ (ASS) â†’ ì»¤ìŠ¤í…€ ë Œë”ëŸ¬**
- ìž¥ì : ì• ë‹ˆë©”ì´ì…˜/ìŠ¤íƒ€ì¼ í‘œí˜„
- ë°©ë²•: Canvas ë˜ëŠ” SVG ë Œë”ë§

---

## ðŸ’» 3. ê¸°ìˆ  êµ¬í˜„ ë°©ë²•

### 3-1. YouTube ë„¤ì´í‹°ë¸Œ ìžë§‰ ì‹œìŠ¤í…œ í™œìš© (VTT/SRT)

#### TextTrack API ì‚¬ìš©

```javascript
// 1. ë¹„ë””ì˜¤ ìš”ì†Œ ì°¾ê¸°
const video = document.querySelector('video');

// 2. ìžë§‰ íŠ¸ëž™ ì¶”ê°€
const track = video.addTextTrack('subtitles', 'Korean (Community)', 'ko');
track.mode = 'showing'; // ìžë§‰ í™œì„±í™”

// 3. VTT í˜•ì‹ìœ¼ë¡œ í ì¶”ê°€
track.addCue(new VTTCue(0, 5, 'ì•ˆë…•í•˜ì„¸ìš”'));
track.addCue(new VTTCue(5, 10, 'ì´ê²ƒì€ ì»¤ë®¤ë‹ˆí‹° ìžë§‰ìž…ë‹ˆë‹¤'));
```

#### SRT â†’ VTT ë³€í™˜ í›„ ì‚½ìž…

```javascript
// SRT íŒŒì‹±
function parseSRT(srtText) {
  const blocks = srtText.trim().split('\n\n');
  return blocks.map(block => {
    const lines = block.split('\n');
    const timeMatch = lines[1].match(/(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/);
    const text = lines.slice(2).join('\n');
    
    return {
      start: timeToSeconds(timeMatch[1]),
      end: timeToSeconds(timeMatch[2]),
      text: text
    };
  });
}

// TextTrackì— ì¶”ê°€
function loadSRTToYouTube(srtText) {
  const video = document.querySelector('video');
  const track = video.addTextTrack('subtitles', 'Community', 'ko');
  track.mode = 'showing';
  
  const cues = parseSRT(srtText);
  cues.forEach(cue => {
    track.addCue(new VTTCue(cue.start, cue.end, cue.text));
  });
}
```

#### ìž¥ì 
âœ… YouTube UIì™€ ì™„ë²½ í†µí•©
âœ… ìžë§‰ ì„¤ì • (í¬ê¸°, ìƒ‰ìƒ, ë°°ê²½) ìœ ì €ê°€ ì œì–´ ê°€ëŠ¥
âœ… ì„±ëŠ¥ ìµœì í™” (YouTube ìžì²´ ë Œë”ë§)
âœ… ëª¨ë°”ì¼ì—ì„œë„ ì•ˆì •ì 

#### ë‹¨ì 
âš ï¸ ë””ìžì¸ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì œí•œì 
âš ï¸ ì‹¤ì‹œê°„ ìžë§‰ì—ëŠ” ë¶€ì í•© (ì§€ì—° ë°œìƒ)

---

### 3-2. ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ (ì‹¤ì‹œê°„ ë²ˆì—­)

#### DOM ê¸°ë°˜ ì˜¤ë²„ë ˆì´

```javascript
// ì˜¤ë²„ë ˆì´ ìƒì„±
function createSubtitleOverlay() {
  const overlay = document.createElement('div');
  overlay.id = 'lst-realtime-overlay';
  overlay.style.cssText = `
    position: absolute;
    bottom: 80px;
    left: 50%;
    transform: translateX(-50%);
    width: 90%;
    max-width: 800px;
    text-align: center;
    color: white;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
    padding: 12px 20px;
    border-radius: 8px;
    font-size: 22px;
    font-weight: 600;
    z-index: 9999;
    pointer-events: none;
    transition: opacity 0.3s;
  `;
  
  // YouTube í”Œë ˆì´ì–´ ì»¨í…Œì´ë„ˆì— ì¶”ê°€
  const playerContainer = document.querySelector('#movie_player');
  playerContainer.appendChild(overlay);
  
  return overlay;
}

// ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
function updateRealtimeSubtitle(text, isInterim = false) {
  const overlay = document.getElementById('lst-realtime-overlay');
  overlay.textContent = text;
  overlay.style.opacity = isInterim ? '0.6' : '1.0';
}
```

#### ìœ„ì¹˜ ì¡°ì • (YouTube ì»¨íŠ¸ë¡¤ íšŒí”¼)

```javascript
// YouTube ì»¨íŠ¸ë¡¤ ë°” ë†’ì´ ê°ì§€
function adjustOverlayPosition() {
  const controls = document.querySelector('.ytp-chrome-bottom');
  const controlsHeight = controls ? controls.offsetHeight : 0;
  
  const overlay = document.getElementById('lst-realtime-overlay');
  overlay.style.bottom = `${controlsHeight + 20}px`;
}

// í’€ìŠ¤í¬ë¦° ê°ì§€
document.addEventListener('fullscreenchange', adjustOverlayPosition);
```

#### ìž¥ì 
âœ… ì™„ì „í•œ ë””ìžì¸ ì œì–´
âœ… ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ìµœì í™”
âœ… ì• ë‹ˆë©”ì´ì…˜ ìžìœ 
âœ… ë“€ì–¼ ìžë§‰ ê°€ëŠ¥ (ì›ë¬¸ + ë²ˆì—­)

#### ë‹¨ì 
âš ï¸ YouTube UI ë³€ê²½ ì‹œ ìœ„ì¹˜ ì¡°ì • í•„ìš”
âš ï¸ ëª¨ë°”ì¼ ëŒ€ì‘ ë³µìž¡

---

### 3-3. ASS ìžë§‰ ë Œë”ë§ (ê³ ê¸‰ ë””ìžì¸)

#### JavascriptSubtitlesOctopus ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©

```javascript
// ASS ë Œë”ëŸ¬ ì´ˆê¸°í™”
function initASSRenderer() {
  const video = document.querySelector('video');
  
  const renderer = new SubtitlesOctopus({
    video: video,
    subUrl: 'subtitle.ass', // ASS íŒŒì¼ URL
    fonts: [
      'fonts/Arial.ttf',
      'fonts/NotoSansKR.ttf'
    ],
    workerUrl: 'subtitles-octopus-worker.js',
    legacyWorkerUrl: 'subtitles-octopus-worker-legacy.js'
  });
  
  return renderer;
}
```

#### ìž¥ì 
âœ… ì• ë‹ˆë©”ì´ì…˜/ì´íŽ™íŠ¸ ì™„ë²½ ìž¬í˜„
âœ… ì• ë‹ˆë©”ì´ì…˜ ìžë§‰ (karaoke, ìœ„ì¹˜ ì´ë™)
âœ… ë³µìž¡í•œ ìŠ¤íƒ€ì¼ë§

#### ë‹¨ì 
âš ï¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìš©ëŸ‰ í¼ (ìˆ˜ MB)
âš ï¸ ì„±ëŠ¥ ë¶€ë‹´
âš ï¸ ì‹¤ì‹œê°„ ìžë§‰ì—ëŠ” ë¶€ì í•©

---

## ðŸŽ¯ 4. ìµœì¢… ê¶Œìž¥ ì „ëžµ

### 4-1. ì‹œë‚˜ë¦¬ì˜¤ë³„ ìµœì  ë°©ì‹

#### ì‹œë‚˜ë¦¬ì˜¤ 1: ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° (Live, Premieres)
**ë°©ì‹:** ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ (DOM)
- STT â†’ ë²ˆì—­ â†’ ì¦‰ì‹œ í‘œì‹œ
- 0.5~2ì´ˆ ì§€ì—° ìµœì†Œí™”
- ìž„ì‹œ í…ìŠ¤íŠ¸(interim) í‘œì‹œ ê°€ëŠ¥

#### ì‹œë‚˜ë¦¬ì˜¤ 2: ì‚¬ì „ ì œìž‘ ìžë§‰ (ì»¤ë®¤ë‹ˆí‹° ìžë§‰)
**ë°©ì‹:** YouTube ë„¤ì´í‹°ë¸Œ (TextTrack API)
- VTT/SRT â†’ TextTrack ë³€í™˜
- YouTube UI í†µí•©
- ìœ ì €ê°€ ìžë§‰ ì„¤ì • ì¡°ì • ê°€ëŠ¥

#### ì‹œë‚˜ë¦¬ì˜¤ 3: ë“€ì–¼ ìžë§‰ (ì›ë¬¸ + ë²ˆì—­)
**ë°©ì‹:** í•˜ì´ë¸Œë¦¬ë“œ
- YouTube ë„¤ì´í‹°ë¸Œ: ì›ë¬¸ (í•˜ë‹¨)
- ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´: ë²ˆì—­ (ìƒë‹¨)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Video Area         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ì»¤ìŠ¤í…€] ë²ˆì—­: ì•ˆë…•í•˜ì„¸ìš”  â”‚  â† ìƒë‹¨
â”‚ [ë„¤ì´í‹°ë¸Œ] Hello everyone â”‚  â† í•˜ë‹¨ (YouTube)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ì‹œë‚˜ë¦¬ì˜¤ 4: ë””ìžì¸ ìžë§‰ (ì• ë‹ˆë©”ì´ì…˜)
**ë°©ì‹:** ASS ë Œë”ëŸ¬ (ì„ íƒ ì‚¬í•­)
- ì• ë‹ˆë©”ì´ì…˜/karaoke í•„ìš” ì‹œë§Œ
- ë³„ë„ "ê³ ê¸‰ ëª¨ë“œ" ì œê³µ

---

### 4-2. ì‚¬ìš©ìž ì„¤ì • ì˜µì…˜

**ìžë§‰ í‘œì‹œ ëª¨ë“œ ì„ íƒ:**
```
ì„¤ì • > ìžë§‰ í‘œì‹œ ë°©ì‹
  â—‹ YouTube ë„¤ì´í‹°ë¸Œ (ê¶Œìž¥) â† ê¸°ë³¸ê°’
  â—‹ ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ (ê³ ê¸‰)
  â—‹ ë“€ì–¼ ìžë§‰ (ì›ë¬¸ + ë²ˆì—­)
  â—‹ ASS ë Œë”ëŸ¬ (ì‹¤í—˜ì )
```

---

## ðŸ’¡ 5. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1 (MVP)
- [x] ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¡œ ì‹¤ì‹œê°„ ë²ˆì—­
- [ ] VTT/SRT â†’ TextTrack ë³€í™˜
- [ ] YouTube ë„¤ì´í‹°ë¸Œ ìžë§‰ í™œì„±í™”

### Phase 2 (ê°œì„ )
- [ ] ë“€ì–¼ ìžë§‰ ëª¨ë“œ
- [ ] ìžë§‰ ìœ„ì¹˜/ìŠ¤íƒ€ì¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- [ ] ìžë™ ìœ„ì¹˜ ì¡°ì • (ì»¨íŠ¸ë¡¤ ë°” íšŒí”¼)

### Phase 3 (ê³ ê¸‰)
- [ ] ASS ìžë§‰ ì§€ì›
- [ ] ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
- [ ] ìžë§‰ í”„ë¦¬ë·° ê¸°ëŠ¥

---

## ðŸ”§ 6. ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­

### 6-1. YouTube API ì œí•œ íšŒí”¼

**ë¬¸ì œ:**
YouTubeëŠ” ì™¸ë¶€ ìžë§‰ ì¶”ê°€ë¥¼ ê³µì‹ ì§€ì›í•˜ì§€ ì•ŠìŒ

**í•´ê²°:**
- TextTrack APIëŠ” HTML5 í‘œì¤€ì´ë¯€ë¡œ ì‚¬ìš© ê°€ëŠ¥
- DOM ì¡°ìž‘ì€ Content Script ê¶Œí•œìœ¼ë¡œ ê°€ëŠ¥
- YouTube ì •ì±… ë³€ê²½ ëª¨ë‹ˆí„°ë§ í•„ìš”

### 6-2. ì„±ëŠ¥ ìµœì í™”

**ì‹¤ì‹œê°„ ìžë§‰:**
```javascript
// ë””ë°”ìš´ì‹±ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ìµœì†Œí™”
let updateTimer;
function updateSubtitle(text) {
  clearTimeout(updateTimer);
  updateTimer = setTimeout(() => {
    overlay.textContent = text;
  }, 50); // 50ms ë””ë°”ìš´ìŠ¤
}
```

**ë©”ëª¨ë¦¬ ê´€ë¦¬:**
```javascript
// ì˜¤ëž˜ëœ í ì œê±° (TextTrack)
function cleanupOldCues(track, currentTime) {
  const cues = Array.from(track.cues);
  cues.forEach(cue => {
    if (cue.endTime < currentTime - 30) { // 30ì´ˆ ì´ì „
      track.removeCue(cue);
    }
  });
}
```

### 6-3. í”Œëž«í¼ë³„ ëŒ€ì‘

**YouTube:**
- `.ytp-chrome-bottom` ë†’ì´ ê°ì§€
- Fullscreen API ëŒ€ì‘

**Twitch:**
- `.player-controls-container` íšŒí”¼
- Theater Mode ëŒ€ì‘

**SOOP/ì¹˜ì§€ì§:**
- ê° í”Œëž«í¼ë³„ DOM êµ¬ì¡° ë¶„ì„ í•„ìš”

---

## ðŸ“Š 7. ì‚¬ìš©ìž ê²½í—˜ (UX) ê°€ì´ë“œ

### 7-1. ìžë§‰ ëª¨ë“œ ìžë™ ì„ íƒ

**ë¡œì§:**
```javascript
function selectSubtitleMode(context) {
  if (context.isLive) {
    return 'CUSTOM_OVERLAY'; // ì‹¤ì‹œê°„
  } else if (context.hasCommunitySubtitle) {
    return 'YOUTUBE_NATIVE'; // ì»¤ë®¤ë‹ˆí‹° ìžë§‰
  } else if (context.hasOfficialSubtitle) {
    return 'YOUTUBE_NATIVE_WITH_TRANSLATION'; // ê³µì‹ ìžë§‰ + ë²ˆì—­
  } else {
    return 'CUSTOM_OVERLAY'; // ê¸°ë³¸
  }
}
```

### 7-2. ìžë§‰ ì¶©ëŒ ë°©ì§€

**ìš°ì„ ìˆœìœ„:**
1. ì‚¬ìš©ìžê°€ ìˆ˜ë™ ì„ íƒí•œ ìžë§‰ (ìµœìš°ì„ )
2. ì»¤ë®¤ë‹ˆí‹° ìžë§‰ (VTT/SRT)
3. YouTube ê³µì‹ ìžë§‰
4. ì‹¤ì‹œê°„ ë²ˆì—­ ìžë§‰ (fallback)

**ì¶©ëŒ ì²˜ë¦¬:**
```javascript
// ì»¤ë®¤ë‹ˆí‹° ìžë§‰ì´ ìžˆìœ¼ë©´ ì‹¤ì‹œê°„ ë²ˆì—­ ìˆ¨ê¹€
function handleSubtitleConflict() {
  const hasCommunitySubtitle = checkCommunitySubtitle();
  const realtimeOverlay = document.getElementById('lst-realtime-overlay');
  
  if (hasCommunitySubtitle) {
    realtimeOverlay.style.display = 'none';
    showNotification('ì»¤ë®¤ë‹ˆí‹° ìžë§‰ì´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤');
  }
}
```

### 7-3. ìžë§‰ ì „í™˜ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ìžë§‰ ì„¤ì •               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â— ì»¤ë®¤ë‹ˆí‹° ìžë§‰ (ê¶Œìž¥)    â”‚
â”‚ â—‹ ì‹¤ì‹œê°„ ë²ˆì—­            â”‚
â”‚ â—‹ YouTube ê³µì‹ ìžë§‰      â”‚
â”‚ â—‹ ë“€ì–¼ ìžë§‰ (ì›ë¬¸+ë²ˆì—­)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ë¯¸ë¦¬ë³´ê¸°] [ì ìš©]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¯ 8. ìµœì¢… ê¶Œìž¥ì‚¬í•­

### âœ… ê¸°ë³¸ ì „ëžµ

**1. ì‹¤ì‹œê°„ ë²ˆì—­ â†’ ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´**
- ê°€ìž¥ ë¹ ë¥´ê³  ìœ ì—°
- MVP ë‹¨ê³„ì—ì„œ ìš°ì„  êµ¬í˜„

**2. ì»¤ë®¤ë‹ˆí‹° ìžë§‰ â†’ YouTube ë„¤ì´í‹°ë¸Œ**
- ì•ˆì •ì ì´ê³  ì„±ëŠ¥ ì¢‹ìŒ
- Phase 2ì—ì„œ êµ¬í˜„

**3. ë“€ì–¼ ìžë§‰ â†’ í•˜ì´ë¸Œë¦¬ë“œ**
- ì–¸ì–´ í•™ìŠµìš©
- Phase 3ì—ì„œ ì¶”ê°€

**4. ASS ìžë§‰ â†’ ì„ íƒ ê¸°ëŠ¥**
- ê³ ê¸‰ ì‚¬ìš©ìžìš©
- ë‚˜ì¤‘ì— ê³ ë ¤

### âš ï¸ ì£¼ì˜ì‚¬í•­

1. **YouTube UI ë³€ê²½ ëŒ€ì‘**
   - DOM êµ¬ì¡° ëª¨ë‹ˆí„°ë§
   - Fallback ë¡œì§ í•„ìˆ˜

2. **ì„±ëŠ¥ ìµœì í™”**
   - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€
   - ë””ë°”ìš´ì‹±/ì“°ë¡œí‹€ë§

3. **ì‚¬ìš©ìž ì„ íƒ ì¡´ì¤‘**
   - ê°•ì œ ìžë§‰ ê¸ˆì§€
   - ì¼œê¸°/ë„ê¸° ì‰½ê²Œ

4. **ì ‘ê·¼ì„±**
   - ì²­ê°ìž¥ì• ì¸ ê³ ë ¤
   - í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì œê³µ

---

## ðŸ“ 9. êµ¬í˜„ ì˜ˆì‹œ (í†µí•©)

### ìžë§‰ ë§¤ë‹ˆì € í´ëž˜ìŠ¤

```javascript
class SubtitleManager {
  constructor() {
    this.mode = 'auto'; // auto, native, custom, dual
    this.customOverlay = null;
    this.nativeTrack = null;
  }
  
  // ì»¤ë®¤ë‹ˆí‹° ìžë§‰ ë¡œë“œ (VTT/SRT)
  loadCommunitySubtitle(file) {
    if (this.mode === 'native' || this.mode === 'dual') {
      this.loadToNativeTrack(file);
    } else {
      this.loadToCustomOverlay(file);
    }
  }
  
  // ì‹¤ì‹œê°„ ìžë§‰ ì—…ë°ì´íŠ¸
  updateRealtimeSubtitle(text, isInterim) {
    if (this.mode === 'custom' || this.mode === 'dual') {
      this.customOverlay.update(text, isInterim);
    }
  }
  
  // ëª¨ë“œ ì „í™˜
  switchMode(newMode) {
    this.mode = newMode;
    this.refresh();
  }
}
```

---

ì´ ë¬¸ì„œëŠ” **ìžë§‰ í‘œì‹œ ì „ëžµì˜ ëª¨ë“  ì¸¡ë©´**ì„ ë‹¤ë£¬ ì¢…í•© ê°€ì´ë“œìž…ë‹ˆë‹¤.
ì‹¤ì œ êµ¬í˜„ ì‹œ í”Œëž«í¼ë³„, ì‹œë‚˜ë¦¬ì˜¤ë³„ë¡œ ìµœì  ë°©ì‹ì„ ì„ íƒí•˜ì„¸ìš”.