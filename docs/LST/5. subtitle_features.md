# Subtitle Features & Experimental Ideas

이 문서는 **자막 처리, 싱크, 번역, 실시간 방송 대응** 등과 관련된 모든 실험적 아이디어를 정리하는 공간입니다.
각 기능은 이후 Chrome Extension / Desktop App 문서로 분리·이관될 수 있습니다.

---

## ✅ 1. 다양한 자막 포맷 지원
- SRT (`.srt`)
- VTT (`.vtt`)
- SBV (`.sbv`)
- SAMI (`.smi`)
- TXT 기반 타임코드 포함 자막
- JSON 자막 (YouTube API 형식)
- LRC (노래 가사용)

### 기능 가능성
- 브라우저에서도 JS로 파싱 가능
- Desktop App은 FFmpeg/Whisper 등을 활용한 고급 변환 가능
- 클라우드에 파일을 업로드후 문서 링크를 지정된 곳에 넣어두면 자동으로 다운로드 또는 인식하여 작동할 수 있도록

---

## ✅ 2. 외부 자막 파일 자동 싱크 조정
### 방식
1. **초반 영상 음성 5~10초 STT 분석**
2. STT 결과 텍스트와 자막 첫 문장 비교
3. 시간차(offset) 계산
4. 자막 전체에 offset 일괄 적용

### 목적
- 업로드된 자막이 영상과 싱크가 맞지 않을 때 자동보정
- 외국어 영상 + 한국어 자막 조합 등에도 사용 가능

### 주의점
- Whisper 기반 STT가 가장 정확 → Desktop App에서 처리하는 것이 유리

---

## ✅ 3. 실시간 영상 싱크 분석 (라이브, Premieres)
### Premieres 대응 기능
- 카운트다운 감지 후 자막 시작
- 화면 OCR/색상 검출로 카운트다운 자동 판단
- 첫 음성 등장 시점 기반으로 자막 조정

### 실시간 라이브 스트리밍 대응
- Whisper 실시간 모니터링
- 자막 문장과 스트리밍 문장을 실시간 비교하여 자동 싱크 보정

---

## ✅ 4. 자막 + 실시간 번역 동시 출력
- 업로드 자막 → 원본 싱크 맞춰서 표시
- Whisper 기반 실시간 번역 → 별도 위치에 실시간 표시
- 두 개가 서로 간섭하지 않도록 UI 레이어 분리

### 응용
- 일본 방송 + 한국어 자막
- 한국 유튜브 영상 + 영어 자막 → 해외 공유용

---

## ✅ 5. 자막 재생 엔진 고급화
### 기능 목록
- 자막 문장 단위 Fade In / Fade Out
- Karaoke 스타일 (글자 단위 하이라이트)
- 타임코드 기반 스크롤 애니메이션
- 자막 위치 자동 조절 (중요 UI 요소 가림 방지)
- 자막 색상/크기/폰트 개별 커스텀

---

## ✅ 6. 자막 싱크 자동 보정 알고리즘
### 후보 알고리즘 아이디어
- 텍스트 유사도 기반 매칭 (Cosine Similarity / Levenshtein)
- STT된 문장과 자막 문장 간 Alignment 계산
- 음성 파형의 무음 구간 분석 → 자막 문장 경계 자동 보정
- 딥러닝 기반 "문장-음성 시간 매핑" 모델 실험

---

## ✅ 7. 음성 기반 자막 생성 + 자막 파일 매칭
- Whisper로 전체 영상 STT 생성
- 기존 자막 파일과 비교해 싱크 자동 재작성
- 번역된 자막과 원문 자막을 자동 정렬
- 누락된 자막 자동 보충

---

## ✅ 8. 영상 장면 전환 감지 기반 자막 개선
- 장면이 바뀌면 자막 Fade Out
- 장면 전환 후 자막이 튀어나오지 않도록 딜레이 적용
- Scene Detection + Subtitle Timing Matching

---

## ✅ 9. 배속 재생 대응 자막 자동 조정
- 재생 속도가 1.25x / 1.5x / 2x일 때
- 자막 타임코드 자동 Scale
- Whisper로 실제 말하는 속도 체크하여 동기화

---

## ✅ 10. 스트리밍 지연(버퍼) 감지 후 자동 조정
- 유튜브 라이브의 지연 시간 변경 시
- 자막이 틀리면 STT와 비교해 offset 재계산
- 실시간으로 조금씩 자막 타이밍 조율

---

## ✅ 11. 키워드 트리거 기반 자막 기능
- 특정 단어가 나오면 강조 효과 (Flash, Highlight)
- 필터링 기능 (비속어, 특정 단어 미표시)
- 특정 단어 자동 번역 + 사전 링크 연결

---

## ✅ 12. 자막 OCR 기능 (영상에 이미 포함된 자막 추출)
- 영상 속 하드코딩(번인) 자막을 OCR로 추출
- Whisper와 결합하여 정확도 향상
- 기존 SRT 자막 파일로 재작성

### 응용
- 일본 방송 영상의 하드코딩 자막 → 자동 한글 변환

---

## ✅ 13. 다중 자막 스트림 동시 처리
- 언어별 자막 파일 여러 개 불러오기
- 유저가 실시간으로 전환 가능
- 번역/원문 자막 동시 출력
- 2개 이상 자막을 Layer로 쌓기

---

## ✅ 14. 실시간 Collaborative Subtitle Editing
- 여러 사용자가 자막을 실시간으로 편집
- 각 편집 내용이 라이브 반영
- DeepL/ChatGPT 기반 자동 번역 도우미
- 자막 문장 개선 AI 기능 추가

---

## ✅ 15. 자막 파일 자동 번역
- SRT/VTT 전부 한 번에 DeepL/GPT 번역
- 타임코드는 유지한 채 텍스트만 변환
- 자막 양쪽 동시 표시 기능

---

## ✅ 16. Mini Helper App
- Chrome Extension의 보조 프로그램(백그라운드 방식)
- Desktop App는 모든 기능, 시스템(고급 기능 포함) 및 최종 버전을 다룸

### 기능 후보
1. 로컬 번역 캐시 서버
2. 로컬 오디오 캡처 미니 엔진
3. 자막 자동 싱크 계산
4. 간단한 STT 보조 기능
5. 로컬 API 제공

---

## 🔮 앞으로 확장 가능한 실험적 아이디어 리스트
- "자막 품질 평가 모델" (자연도, 번역 품질 점수)
- 음성 톤 또는 감정 분석 기반 자막 스타일 자동 변경
- 대사가 빠른 장면에서는 자막 크기 자동 감소
- 노래 구간 자동 감지 → 가사 스타일 적용
- 영상 장르(뉴스/영화/애니) 자동 분류 후 기본 스타일 적용

---

## 📌 정리
이 문서는 실험 아이디어를 정리하는 목적이며, 실제 구현 여부와 관계없이 자유롭게 확장됩니다.
필요한 기능(확장 프로그램/데스크탑 앱/모두 적용)에 대해 이후 문서에서 개별적으로 설계·분리할 수 있습니다.